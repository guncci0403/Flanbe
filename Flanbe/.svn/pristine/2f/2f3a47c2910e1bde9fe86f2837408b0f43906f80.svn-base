<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt"%>

<%@ include file="/WEB-INF/views/common/profileSidebar.jsp" %>

<style>
.pull-right {
	float: right !important;
}

.part {
	background: transparent;
	font-size: 12px;
	border: none;
	height: auto;
}

.type10 {
	width: 100%;
	border-collapse: collapse;
	text-align: left;
	line-height: 1.5;
	border-top: 1px solid #ccc;
	border-bottom: 1px solid #ccc;
	margin: 20px 10px;
}

.type10 thead th {
	width: 60%;
	padding: 10px;
	font-weight: bold;
	vertical-align: top;
	color: #fff;
	background: #1e3d73;
	margin: 20px 10px;
}

.type10 tbody th {
	padding: 10px;
	border-bottom: 1px solid #ccc;
	background: #D7DFED;
}

.type10 td {
	padding: 10px;
	line-height: 3;
	vertical-align: top;
	border-bottom: 1px solid #ccc;
}

#borderdiv {
	border: 1px solid darkgray;
	margin-left: 8%;
	padding: 10px 5px 10px 25px;
	border-radius: 20px 20px;
}
</style>
<!-- START: Body-->
<!-- START: Main Content-->
<main>
	<div class="content">
		<!-- END: Card DATA-->
		<div class="profile_frame">
			<div class="col-12 col-lg-9 col-xl-10 mb-4 mt-3 pl-lg-0">
				<div class="card border  h-mail-list-section">
					<form>
						<section>
							<h3 class="p5-profile-head" style="margin-top: 25px; padding-bottom: 20px; height: 52px; font-size: 28px; line-height: 1.3;">${user.user_id }</h3>
						</section>
						<section class="p5-partition">
							<div class="p5-2spanInfo" style="height: auto; margin-bottom: 10px !important;">
								<span>파트너스</span> | <span>${user.group_nm }</span> <br> <br>
								<c:if test="${cntJoinProj != 0}">
									<div class="form-row col-12" style="border-bottom: 2px dashed lightgray; min-height: 265px;">
										<div class="form-control part col-4" style="border-right: 2px dashed lightgray;">
											<span style="border: none; text-align: center; padding-top: 8px; color: #999999; font-size: 16px;">평균 평점</span> <br> 별
											<%-- <canvas id="chartjs-other-doughnut" width="403" height="196" class="chartjs-render-monitor" style="display: block; width: 403px; height: 196px;"></canvas> --%>
											<%-- <canvas id="chartjs-other-doughnut"></canvas> --%>

										</div>
										<div class="form-control part col-4" style="border-right: 2px dashed lightgray;">
											<span style="border: none; text-align: center; padding-top: 8px; color: #999999; font-size: 16px;">세부 항목 평가</span> <br>
											<canvas id="chartjs-area-radar" width="533" height="266" class="chartjs-render-monitor" style="display: block; width: 533px; height: 266px;"></canvas>

										</div>
										<div class="form-control part col-4">
											<span style="border: none; text-align: center; padding-top: 8px; color: #999999; font-size: 16px;">진행한 프로젝트 분야</span> <br>
											<canvas id="chartjs-other-doughnut"></canvas>
										</div>
									</div>
								</c:if>
								<br>
								<div class="form-group col-12" style="border-bottom: 2px dashed lightgray;">
									<div class="form-control part col-4" style="margin-left: 2%">
										<span style="border: none; text-align: center; padding-top: 8px; color: #999999; font-size: 16px;">자기 소개</span>
									</div>
									<div class="form-control part col-8" style="margin-left: 12%">
										<br> <span style="border: none; font-size: 14px;"> <c:choose>
												<c:when test="${user.intro == null}">
													<div class="p5-assign-component" style="display: table; width: 100%; height: 100%; text-align: center; margin: 0 auto;">
														<div style="display: table-cell; vertical-align: middle;">
															<div>
																&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="${cp }/images/profile_introduction.png" style="vertical-align: middle;">
																<p class="p5-no-partners-info-text" style="margin-top: 15px; margin-bottom: 0; color: #999 !important; line-height: 1;">
																	등록된 <span class="text-center p5-bold" style="font-weight: bold;">'자기 소개'</span>가 없습니다.
																</p>
															</div>
														</div>
													</div>
												</c:when>
												<c:otherwise>
														${user.intro }
													</c:otherwise>
											</c:choose>
										</span>
									</div>
									<div class="form-control part col-11">
										<a class="pull-right" href="${cp }/user/intro?user_id=${user.user_id}" style="border: none; text-align: center; padding-top: 8px; color: #2099bb; font-size: 16px;">자기소개 더 보기 <i class="fas fa-chevron-right"></i></a>
									</div>
									<br> <br>
								</div>
								<div class="form-group col-12" style="border-bottom: 2px dashed lightgray;">
									<div class="form-control part col-4" style="margin-left: 2%">
										<span style="border: none; text-align: center; padding-top: 8px; color: #999999; font-size: 16px;">포트폴리오</span>
									</div>
									<div class="form-control part col-8" style="margin-left: 12%">
										<br> <span style="border: none; font-size: 14px;"> <c:choose>
												<c:when test="${user.intro == null}">
													<div class="p5-assign-component" style="display: table; width: 100%; height: 100%; text-align: center; margin: 0 auto;">
														<div style="display: table-cell; vertical-align: middle;">
															<div>
																<img src="${cp }/images/project_history_no.png" style="vertical-align: middle;">
																<p class="p5-no-partners-info-text" style="margin-top: 15px; margin-bottom: 0; color: #999 !important; line-height: 1;">
																	등록된 <span class="text-center p5-bold" style="font-weight: bold;">'포트폴리오'</span>가 없습니다.
																</p>
															</div>
														</div>
													</div>
												</c:when>
												<c:otherwise>
														포트폴리오
													</c:otherwise>
											</c:choose>
										</span>
									</div>
									<div class="form-control part col-11">
										<a class="pull-right" href="" style="border: none; text-align: center; padding-top: 8px; color: #2099bb; font-size: 16px;">포트폴리오 더 보기 <i class="fas fa-chevron-right"></i></a>
									</div>
									<br> <br>
								</div>
								<div class="form-group col-12" style="border-bottom: 2px dashed lightgray;">
									<div class="form-control part col-4" style="margin-left: 2%">
										<span style="border: none; text-align: center; padding-top: 8px; color: #999999; font-size: 16px;">보유 기술</span>
									</div>
									<div class="form-control part col-8" style="margin-left: 12%">
										<br> <span style="border: none; font-size: 14px;"> <c:choose>
												<c:when test="${skillList[0] == null}">
													<div class="p5-assign-component" style="display: table; width: 100%; height: 100%; text-align: center; margin: 0 auto;">
														<div style="display: table-cell; vertical-align: middle;">
															<div>
																<img src="${cp }/images/profile_certify.png" style="vertical-align: middle;">
																<p class="p5-no-partners-info-text" style="margin-top: 15px; margin-bottom: 0; color: #999 !important; line-height: 1;">
																	등록된 <span class="text-center p5-bold" style="font-weight: bold;">'보유 기술'</span>이 없습니다.
																</p>
															</div>
														</div>
													</div>
												</c:when>
												<c:otherwise>
													<table class="type10">
														<thead>
															<tr>
																<th scope="cols">종류</th>
																<th scope="cols">숙련도</th>
															</tr>
														</thead>
														<c:forEach items="${skillList }" var="skill" begin="0" end="2">
															<tbody>
																<tr>
																	<th scope="row"><span style="margin-left: 10px;"> <c:choose>
																				<c:when test="${skill.us_kind == '01' }">Java</c:when>
																				<c:when test="${skill.us_kind == '02' }">C</c:when>
																				<c:when test="${skill.us_kind == '03' }">Python</c:when>
																				<c:when test="${skill.us_kind == '04' }">JavaScript</c:when>
																				<c:when test="${skill.us_kind == '05' }">기타</c:when>
																				<c:otherwise>${skill.us_kind }</c:otherwise>
																			</c:choose>
																	</span></th>
																	<td><span style="margin-left: 5px;"> <c:choose>
																				<c:when test="${skill.us_prof == '01' }">초급</c:when>
																				<c:when test="${skill.us_prof == '02' }">중급</c:when>
																				<c:when test="${skill.us_prof == '03' }">고급</c:when>
																				<c:when test="${skill.us_prof == '04' }">특급</c:when>
																			</c:choose>
																	</span></td>
																</tr>
															</tbody>
														</c:forEach>
													</table>
												</c:otherwise>
											</c:choose>
										</span>
									</div>
									<div class="form-control part col-11">
										<a class="pull-right" href="${cp }/user/skill?user_id=${user.user_id}" style="border: none; text-align: center; padding-top: 8px; color: #2099bb; font-size: 16px;">보유기술 더 보기 <i class="fas fa-chevron-right"></i></a>
									</div>
									<br> <br>
								</div>
								<div class="form-group col-12" style="border-bottom: 2px dashed lightgray;">
									<div class="form-control part col-4" style="margin-left: 2%">
										<c:if test="${careerDate != null}">
											<span style="border: none; text-align: center; padding-top: 8px; color: #999999; font-size: 16px;">경력(${careerDate })</span>
										</c:if>
										<c:if test="${careerDate == null}">
											<span style="border: none; text-align: center; padding-top: 8px; color: #999999; font-size: 16px;">경력</span>
										</c:if>
									</div>
									<div class="form-control part col-8" style="margin-left: 12%">
										<br> <span style="border: none; font-size: 14px;"> <c:choose>
												<c:when test="${careerList[0] == null}">
													<div class="p5-assign-component" style="display: table; width: 100%; height: 100%; text-align: center; margin: 0 auto;">
														<div style="display: table-cell; vertical-align: middle;">
															<div>
																<img src="${cp }/images/profile_employ.png" style="vertical-align: middle;">
																<p class="p5-no-partners-info-text" style="margin-top: 15px; margin-bottom: 0; color: #999 !important; line-height: 1;">
																	등록된 <span class="text-center p5-bold" style="font-weight: bold;">'경력'</span>이 없습니다.
																</p>
															</div>
														</div>
													</div>
												</c:when>
												<c:otherwise>
													<c:forEach items="${careerList }" var="career" varStatus="loop" begin="0" end="0">
														<div>
															<div class="form-row col-10" id="borderdiv">
																<div class="form-group col-11">
																	<div class="form-row col-12" style="border-bottom: 1px solid lightgray;">
																		<span class="form-control col-2" style="border: none; text-align: center; padding-top: 8px; color: #999999; font-size: 16px;">회사명</span> <input readonly="readonly" type="text" class="form-control col-8" style="margin-left: 10px; border: none; text-align: left; font-size: 16px;" value="${career.c_nm }">
																	</div>
																	<div class="form-row col-12" style="border-bottom: 1px solid lightgray;">
																		<span class="form-control col-2" style="border: none; text-align: center; padding-top: 8px; color: #999999; font-size: 16px;">근무부서</span> <input readonly="readonly" type="text" class="form-control col-8" style="margin-left: 10px; border: none; text-align: left; font-size: 16px;" value="${career.c_dept }">
																	</div>
																	<div class="form-row col-12" style="border-bottom: 1px solid lightgray;">
																		<span class="form-control col-2" style="border: none; text-align: center; padding-top: 8px; color: #999999; font-size: 16px;">직위</span> <input readonly="readonly" type="text" class="form-control col-8" style="margin-left: 10px; border: none; text-align: left; font-size: 16px;" value="${career.c_position }">
																	</div>
																	<div class="form-row col-12" style="border-bottom: 1px solid lightgray;">
																		<span class="form-control col-2" style="border: none; text-align: center; padding-top: 8px; color: #999999; font-size: 16px;">근무기간</span> <input readonly="readonly" type="text" class="form-control col-8" style="margin-left: 10px; border: none; text-align: left; font-size: 16px;" value="${career.c_sdt } ~ ${career.c_edt }">
																	</div>
																	<div class="form-row col-12" style="border-bottom: 1px solid lightgray;">
																		<span class="form-control col-2" style="border: none; text-align: center; padding-top: 8px; color: #999999; font-size: 16px;">설명</span> <input readonly="readonly" type="text" class="form-control col-8" style="margin-left: 10px; border: none; text-align: left; font-size: 16px;" value="${career.c_cont }">
																	</div>
																</div>
															</div>
															<br> <br>
														</div>
													</c:forEach>
												</c:otherwise>
											</c:choose>
										</span>
									</div>
									<div class="form-control part col-11">
										<a class="pull-right" href="${cp }/user/career?user_id=${user.user_id}" style="border: none; text-align: center; padding-top: 8px; color: #2099bb; font-size: 16px;">경력 더 보기 <i class="fas fa-chevron-right"></i></a>
									</div>
									<br> <br>
								</div>
								<div class="form-group col-12">
									<div class="form-control part col-4" style="margin-left: 2%">
										<span style="border: none; text-align: center; padding-top: 8px; color: #999999; font-size: 16px;">평가</span>
									</div>
									<div class="form-control part col-8" style="margin-left: 12%">
										<br> <span style="border: none; font-size: 14px;"> <c:choose>
												<c:when test="${user.intro == null}">
													<div class="p5-assign-component" style="display: table; width: 100%; height: 100%; text-align: center; margin: 0 auto;">
														<div style="display: table-cell; vertical-align: middle;">
															<div>
																<img src="${cp }/images/profile_evaluation.png" style="vertical-align: middle;">
																<p class="p5-no-partners-info-text" style="margin-top: 15px; margin-bottom: 0; color: #999 !important; line-height: 1;">
																	등록된 <span class="text-center p5-bold" style="font-weight: bold;">'평가'</span>가 없습니다.
																</p>
															</div>
														</div>
													</div>
												</c:when>
												<c:otherwise>
				                                    	프로젝트명/계약금액/프로젝트 기간/평균평점/클라이언트 아이디/클라이어트 평가내용
													</c:otherwise>
											</c:choose>
										</span>
									</div>
									<div class="form-control part col-11">
										<a class="pull-right" href="" style="border: none; text-align: center; padding-top: 8px; color: #2099bb; font-size: 16px;">평가 더 보기 <i class="fas fa-chevron-right"></i></a>
									</div>
								</div>
								<br>
							</div>
						</section>
					</form>
				</div>
			</div>
		</div>
	</div>
</main>
<!-- END: Content-->







<script>
$(function() {
	

	(function($) {
		"use strict";

		var primarycolor = getComputedStyle(document.body).getPropertyValue(
				'--primarycolor');
		var bordercolor = getComputedStyle(document.body).getPropertyValue(
				'--bordercolor');
		var bodycolor = getComputedStyle(document.body).getPropertyValue(
				'--bodycolor');

		var options = {
			responsive : true,
			legend : {
				position : 'top',
				labels : {
					fontColor : bodycolor
				}
			},
			scales : {
				xAxes : [ {
					display : true,
					gridLines : {
						display : true,
						color : bordercolor,
						zeroLineColor : bordercolor
					},
					ticks : {
						fontColor : bodycolor,

					},
				} ],
				yAxes : [ {
					display : true,
					gridLines : {
						display : true,
						color : bordercolor,
						zeroLineColor : bordercolor
					},
					ticks : {
						fontColor : bodycolor,

					}
				} ]
			}
		};

		window.chartColors = {
			red : 'rgb(30, 61, 115)',
			orange : 'rgb(23, 162, 184)',
			yellow : 'rgb(30, 224, 172)',
			green : 'rgb(75, 192, 192)',
			blue : 'rgb(54, 162, 235)',
			purple : 'rgb(153, 102, 255)',
			grey : 'rgb(201, 203, 207)'
		};

		////////////////////////////////////// Other Chart doughnut //////////////////////
		var web = ${historyMap.web	};
		var app = ${historyMap.app};
		var pub = ${historyMap.pub};
		var game = ${historyMap.game};
		var etc = ${historyMap.etc};

		var config = {
			type : 'doughnut',
			data : {
				datasets : [ {
					data : [ web, app, pub, game, etc ],
					backgroundColor : [ window.chartColors.red,
							window.chartColors.orange,
							window.chartColors.yellow,
							window.chartColors.green, window.chartColors.blue, ],
					label : 'Dataset 1'
				} ],
				labels : [ '웹', '애플리케이션', '퍼블리싱', '게임', '기타' ]
			},
			options : {
				responsive : true,
				legend : {
					position : 'top',
					labels : {
						fontColor : bodycolor
					}
				},
				animation : {
					animateScale : true,
					animateRotate : true
				}
			}
		};
		var chartjs_other_doughnut = document
				.getElementById("chartjs-other-doughnut");
		if (chartjs_other_doughnut) {
			var ctx = document.getElementById('chartjs-other-doughnut')
					.getContext('2d');
			window.myDoughnut = new Chart(ctx, config);
		}

		////////////////////////////////////// Area Chart Radar /////////////////   

		var data = {
			labels : [ "전문성", "만족도", "의사소통", "일정준수", "적극성" ],
			datasets : [/* {
			                        backgroundColor: 'rgba(255, 99, 132, 0.5)',
			                        borderColor: window.chartColors.red,
			                        data: [15.09, 15.67, 12.5, 12.77, 13.62, 13.68, 13.93, 15.95],
			                        label: 'D0'
			                    }, {
			                        backgroundColor: 'rgba(255, 159, 64, 0.5)',
			                        borderColor: window.chartColors.orange,
			                        data: [24.55, 28.91, 21.81, 23.27, 26.98, 26.05, 25.39, 24.92],
			                        hidden: true,
			                        label: 'D1',
			                        fill: '-1'
			                    }, {
			                        backgroundColor: 'rgba(255, 205, 86, 0.5)',
			                        borderColor: window.chartColors.yellow,
			                        data: [36.35, 43.93, 32.54, 33.54, 42.82, 39.34, 35.84, 33.5],
			                        label: 'D2',
			                        fill: 1
			                    }, {
			                        backgroundColor: 'rgba(75, 192, 192, 0.5)',
			                        borderColor: window.chartColors.green,
			                        data: [47.7, 58.92, 44.45, 49.08, 53.39, 51.85, 48.4, 49.36],
			                        label: 'D3',
			                        fill: false
			                    },  */{
				backgroundColor : 'rgba(54, 162, 235, 0.5)',
				borderColor : window.chartColors.blue,
				data : [ 3, 5, 1, 4, 5 ],
				label : '${user.user_id}',
				fill : true
			}, {
				backgroundColor : 'rgba(54, 162, 235, 0.5)',
				borderColor : window.chartColors.blue,
				data : [ 0, 0, 0, 0, 0 ],
				label : 'zero',
			} ]
		};

		var options = {
			maintainAspectRatio : true,
			spanGaps : false,
			legend : {
				position : 'top',
				labels : {
					fontColor : bodycolor
				}
			},
			elements : {
				line : {
					tension : 0.000001
				}
			},
			plugins : {
				filler : {
					propagate : false
				},
				'samples-filler-analyser' : {
					target : 'chart-analyser'
				}
			},
			scale : {
				angleLines : {
					color : bordercolor
				},

				gridLines : {
					display : true,
					color : bordercolor,
					zeroLineColor : bordercolor
				},
				pointLabels : {
					// callback: function(value, index, values) {
					//     return '$' + value;
					// }
					fontColor : bodycolor,
				},
			}
		};
		var chartjs_area_radar = document.getElementById("chartjs-area-radar");
		if (chartjs_area_radar) {
			var ctx = document.getElementById('chartjs-area-radar').getContext(
					'2d');
			window.myLine = new Chart(ctx, {
				type : 'radar',
				data : data,
				options : options
			});
		}
	})(jQuery);
})
</script>
