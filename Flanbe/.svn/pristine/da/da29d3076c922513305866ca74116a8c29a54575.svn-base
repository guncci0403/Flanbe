<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<!DOCTYPE html>
<html>
<!-- START: Head-->
    <head>
        <meta charset="UTF-8">
        <title>회원가입</title>
        <link rel="shortcut icon" href="${cp }dist/images/favicon.ico" />
        <meta name="viewport" content="width=device-width,initial-scale=1"> 
		
		<%@ include file="/WEB-INF/views/common/common_css.jsp" %>
        <link rel="stylesheet" href="${cp }/dist/vendors/social-button/bootstrap-social.css"/>   
		
        <!-- START: Custom CSS-->
        <link rel="stylesheet" href="${cp }/dist/css/main.css">
        <!-- END: Custom CSS-->
        <script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
        <script>
			$(function(){
				
				$('#addrBtn').on('click',function(){
				    new daum.Postcode({
				        oncomplete: function(data) {
		
				            $('#base_addr').val(data.roadAddress);
				            $('#zipcode').val(data.zonecode);
				            
				            // 사용자 편의성을 위해 상세주소 입력 input 태그로 focus 설정
				            $('#detail_addr').focus();
				        }
				    }).open();
				})
				
				$("input:radio[name=u_div]").on("click", function() {
					if($("#r1").is(':checked')){
						$("#group_nm").val("");
						$('#group_nm').attr("disabled", true)
					} else if($("#r2").is(':checked')){
						$('#group_nm').attr("disabled", false)
					}					
				})
				
				$("#idcheck").on('click', function(){
					
					var user_id = $("#user_id").val();
					
					$.ajax({
						url : "${cp }/login/idcheck",
						data : { "user_id" : user_id },
						type : 'post',
						dataType : 'json',
						success : function(res) {
							$('#idchecklb').text(res.msg);
						},
						error : function(xhr) {
							alert("상태 : " + xhr.status);
						}
					});
				})
				
				$('#signup').on('click', function() {
					// 비밀번호
					var pass = $("#pass").val();
					// 비밀번호 확인
					var pass1 = $("#pass1").val();
					
					if(pass != pass1) {
						alert("비밀번호가 불일치");
						return false;
					}
					if(!$("#consent").is(':checked')) {
						alert("이용약관 및 개인정보 처리방침에 동의해야 합니다.");
						return false;
					}
					
					$("#frm").submit();
				})
			})
		</script>
    </head>
    <!-- END Head-->

    <!-- START: Body-->
    <body id="main-container" class="default">
        <!-- START: Main Content-->
        <div class="container">
            <div class="container-fluid site-width">
                <!-- START: Breadcrumbs-->
                <div class="row ">
                    <div class="col-12  align-self-center">
                        <div class="sub-header mt-3 py-3 align-self-center d-sm-flex w-100 rounded">
                            <div class="w-sm-100 mr-auto"><h4 class="mb-0">회원가입</h4></div>

                            <ol class="breadcrumb bg-transparent align-self-center m-0 p-0">
                                <li class="breadcrumb-item">Home</li>
                                <li class="breadcrumb-item">Form</li>
                                <li class="breadcrumb-item active">Basic</a></li>
                            </ol>
                        </div>
                    </div>
                </div>
                <!-- END: Breadcrumbs-->

                <!-- START: Card Data-->
                <div class="row">
                    <div class="col-12 mt-4">
                        <div class="card">
                            <div class="card-header">                               
                                <h6 class="card-title">회원가입</h6>                                
                            </div>
                            <div class="card-content">
                                <div class="card-body">
                                    <div class="row">                                           
                                        <div class="col-12"><br>
                                            <form id="frm" action="${cp }/login/signin" method="post">
                                            	<div class="form-group">
                                                   	<label><span style="color: red; font-weight: bold;">*</span> 이용목적</label><br>
                                                   	&nbsp; &nbsp; <input type="radio" name="purpose" value="C"> 클라이언트  &nbsp; &nbsp; &nbsp; &nbsp;   
                                                   	<input type="radio" name="purpose" value="P">  파트너스 &nbsp; &nbsp;   
                                               	</div><br>
                                            	<div class="form-row">
	                                                <div class="form-group col-md-6">
	                                                    <label><span style="color: red; font-weight: bold;">*</span> 아이디</label>
	                                                    <input type="text" class="form-control" id="user_id" name="user_id" placeholder="아이디">
	                                                </div>
	                                                <div class="form-group col-md-1">
	                                                	<label>&nbsp;</label>
	                                                    <input type="button" id="idcheck" class="form-control btn btn-default" value="중복확인">
	                                                </div>
	                                                <div class="form-group col-md-2">
	                                                	<br>
	                                                	<label id="idchecklb"></label>
	                                                </div>
	                                                
                                                </div>
                                                <div class="form-group">
                                                    <label><span style="color: red; font-weight: bold;">*</span> 비밀번호</label>
                                                    <input type="password" class="form-control col-md-6" id="pass" name="pass" placeholder="비밀번호">
                                                </div>
                                                <div class="form-group">
                                                    <label><span style="color: red; font-weight: bold;">*</span> 비밀번호 확인</label>
                                                    <input type="password" class="form-control col-md-6" id="pass1" placeholder="비밀번호">
                                                </div>
                                                <div class="form-group">
                                                    <label><span style="color: red; font-weight: bold;">*</span> 이름</label>
                                                    <input type="text" class="form-control col-6" id="user_nm" name="user_nm" placeholder="이름">
                                                </div>
                                                <div class="form-group">
                                                   	<label><span style="color: red; font-weight: bold;">*</span> 그룹여부</label><br>
                                                   	&nbsp; &nbsp; <input type="radio" id="r1" name="u_div" value="S"> 개인 &nbsp; &nbsp; &nbsp; &nbsp;   
                                                   	<input type="radio" id="r2" name="u_div" value="T"> 팀 &nbsp; &nbsp;   
                                                   	<label><input type="text" class="form-control col-12" id="group_nm" name="group_nm" placeholder="그룹 이름"></label>
                                               	</div>
                                                <div class="form-group">
                                                    <label><span style="color: red; font-weight: bold;">*</span> 전화번호</label>
                                                    <input type="text" class="form-control col-6" id="phone" name="phone" placeholder="01012345678">
                                                </div>
                                                <div class="form-group">
                                                    <label><span style="color: red; font-weight: bold;">*</span> 이메일</label>
                                                    <input type="text" class="form-control col-6" id="email" name="email" placeholder="email@mail.com">
                                                </div><br>
                                                <div class="form-group">
													<button type="button" id="addrBtn" class="btn btn-default">주소검색</button> 
                                                </div>
                                                <div class="form-row">
                                                    <div class="form-group col-md-6">
                                                        <label for="inputCity"><span style="color: red; font-weight: bold;">*</span> 기본주소</label>
                                                        <input type="text" class="form-control" id="base_addr" name="base_addr">
                                                    </div>
                                                    <div class="form-group col-md-4">
                                                        <label for="inputState"><span style="color: red; font-weight: bold;">*</span> 상세주소</label>
                                                        <input type="text" class="form-control" id="detail_addr" name="detail_addr">
                                                    </div>
                                                    <div class="form-group col-md-2">
                                                        <label for="inputZip"><span style="color: red; font-weight: bold;">*</span> 우편번호</label>
                                                        <input type="text" class="form-control" id="zipcode" name="zipcode">
                                                    </div>
                                                </div><br>
                                                <div class="form-group">
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="custom-control-input" id="consent">
                                                        <label class="custom-control-label" for="consent">이용약관 및 개인정보 처리방침에 동의합니다. </label>
                                                    </div>
                                                </div>
                                                <button type="button" id="signup" class="btn btn-primary">가입하기</button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- END: Card DATA-->
            </div>
        </div>
        <!-- END: Content-->
        <%@ include file="/WEB-INF/views/common/common_js.jsp" %>
    </body>
    <!-- END: Body-->
</html>